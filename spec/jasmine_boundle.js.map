{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","lib/event-object.js","lib/eventbus.js","spec/default_spec.coffee","spec/define_spec.coffee","spec/main_spec.coffee"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"jasmine_boundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function() {\n  var EventObject,\n    slice = [].slice;\n\n  module.exports = EventObject = (function() {\n    function EventObject() {\n      this._functions = {};\n    }\n\n    EventObject.prototype.ebRemove = function(domain) {\n      var obj;\n      if (eb.debug) {\n        console.log(\"ebRemove: \" + domain);\n      }\n      obj = this._goToDomain(domain);\n      if (obj === false) {\n        return false;\n      }\n      obj._removeAllSub();\n      return obj;\n    };\n\n    EventObject.prototype._removeAllSub = function() {\n      var key, obj, results;\n      results = [];\n      for (key in this) {\n        obj = this[key];\n        if (obj instanceof EventObject || obj instanceof Function) {\n          results.push(delete this[key]);\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n\n    EventObject.prototype._goToDomain = function(domain) {\n      var obj, sub, subRE;\n      subRE = /([\\w$]+)\\.?/g;\n      obj = this;\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (obj[sub] == null) {\n          return false;\n        }\n        obj = obj[sub];\n      }\n      return obj;\n    };\n\n    EventObject.prototype.ebIf = function(obj) {\n      this._ebIf = obj;\n      return this;\n    };\n\n    EventObject.prototype.ebAdd = function(arg1, arg2, arg3) {\n      var domain, func, lastDomain, obj, option, ref, sortArgs, wihtoutLast;\n      sortArgs = eb._defineArg(arg1, arg2, arg3);\n      if (eb.debug) {\n        console.log(\"ebAdd:\", sortArgs);\n      }\n      func = sortArgs.func, domain = sortArgs.domain, option = sortArgs.option;\n      if (domain != null) {\n        domain = eb._replaceToCamelCase(domain);\n      }\n      if (/^[\\w$]+$/.test(domain) && (func != null)) {\n        this._createFunction(domain, func, option);\n      } else if (domain != null) {\n        wihtoutLast = false;\n        if (func != null) {\n          wihtoutLast = true;\n        }\n        ref = this._createDomainIfNotExist(domain, wihtoutLast), obj = ref.obj, lastDomain = ref.lastDomain;\n        return obj.ebAdd(lastDomain, func, option);\n      } else if (option != null) {\n        this._setOption(option);\n      } else {\n        if (eb.debug) {\n          console.log(\"no route!\", sortArgs);\n        }\n      }\n      return this;\n    };\n\n    EventObject.prototype._setOption = function(options) {\n      var key, opt, results;\n      results = [];\n      for (key in options) {\n        opt = options[key];\n        if (key === 'thisArg') {\n          results.push(this.thisArg = opt);\n        } else if (key === 'onReady') {\n          results.push(this.onReady = opt);\n        } else if (opt instanceof Function) {\n          results.push(this._createFunction(key, opt, options));\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n\n    EventObject.prototype._setFunctionToDomain = function(subDomain) {\n      if (this[subDomain] == null) {\n        return this[subDomain] = function() {\n          var args, func, i, len, ref, ret;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          ret = [];\n          ref = this._functions[subDomain];\n          for (i = 0, len = ref.length; i < len; i++) {\n            func = ref[i];\n            ret.push(func.apply(this, args));\n          }\n          if (this._ebIf != null) {\n            delete this._ebIf;\n          }\n          return ret;\n        };\n      }\n    };\n\n    EventObject.prototype._createFunction = function(subDomain, func, option) {\n      if (eb.debug) {\n        console.log(\"_createFunction subDomain:\" + subDomain + \" func:\", func);\n      }\n      if (this._functions[subDomain] == null) {\n        this._functions[subDomain] = [];\n      }\n      this._functions[subDomain].push(function() {\n        var args, thisArg;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        thisArg = this.thisArg;\n        if ((option != null ? option.thisArg : void 0) != null) {\n          thisArg = option.thisArg;\n        }\n        if (this._ebIf == null) {\n          return func.apply(thisArg, args);\n        } else {\n          if (this._objIsEqual(this._ebIf, thisArg)) {\n            return func.apply(thisArg, args);\n          }\n        }\n      });\n      return this._setFunctionToDomain(subDomain);\n    };\n\n    EventObject.prototype._objIsEqual = function(fromObj, toObj) {\n      var k, v;\n      for (k in fromObj) {\n        v = fromObj[k];\n        if (!(v === toObj[k])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    EventObject.prototype._createDomainIfNotExist = function(domain, withoutLast) {\n      var currentObj, lastDomain, sub, subRE;\n      if (withoutLast == null) {\n        withoutLast = false;\n      }\n      if (eb.debug) {\n        console.log(\"_createDomainIfNotExist with domain:\" + domain + \" and withoutLast=\" + withoutLast);\n      }\n      subRE = /([\\w$]+)\\.?/g;\n      if (withoutLast) {\n        subRE = /([\\w$]+)\\./g;\n        lastDomain = /\\.([\\w$]+)$/.exec(domain)[1];\n      }\n      currentObj = this;\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (currentObj[sub] == null) {\n          currentObj[sub] = new EventObject();\n        }\n        currentObj = currentObj[sub];\n      }\n      return {\n        obj: currentObj,\n        lastDomain: withoutLast ? lastDomain : void 0\n      };\n    };\n\n    return EventObject;\n\n  })();\n\n}).call(this);\n","(function() {\n  var EventBus, EventObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    slice = [].slice;\n\n  EventObject = require('./event-object');\n\n  module.exports = EventBus = (function(superClass) {\n    extend(EventBus, superClass);\n\n    function EventBus() {\n      EventBus.__super__.constructor.apply(this, arguments);\n      this._toGlobal();\n    }\n\n    EventBus.prototype._toGlobal = function() {\n      if (global.eb == null) {\n        return global.eb = this;\n      }\n    };\n\n    EventBus.prototype._isInstance = function(arg) {\n      if (arg == null) {\n        return 'undefined';\n      } else if (arg instanceof Function) {\n        return 'function';\n      } else if (arg instanceof Object) {\n        return 'object';\n      } else {\n        return 'string';\n      }\n    };\n\n    EventBus.prototype._defineArg = function() {\n      var arg, args, i, len, obj;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      obj = {};\n      for (i = 0, len = args.length; i < len; i++) {\n        arg = args[i];\n        switch (this._isInstance(arg)) {\n          case 'function':\n            obj.func = arg;\n            break;\n          case 'string':\n            obj.domain = arg;\n            break;\n          case 'object':\n            obj.option = arg;\n        }\n      }\n      return obj;\n    };\n\n    EventBus.prototype._replaceToCamelCase = function(channel) {\n      channel = channel.replace(/-\\w/g, function(match, pos) {\n        return match.charAt(1).toUpperCase();\n      });\n      channel = channel.replace(/:/g, '.');\n      return channel;\n    };\n\n    return EventBus;\n\n  })(EventObject);\n\n  new EventBus();\n\n}).call(this);\n","EventBus = require('../lib/eventbus')\n\ndescribe 'Default Tests', ->\n  beforeEach ->\n    # global.eb = new EventBus\n    eb.debug = true\n  it 'is eb global and an EventBus?', ->\n    expect(eb instanceof EventBus).toBe true\n  it 'is eb.ebAdd a Function', ->\n    expect(eb.ebAdd instanceof Function).toBe true\n  it 'is eb.ebRemove a Function', ->\n    expect(eb.ebRemove instanceof Function).toBe true\n  it 'is eb.ebIf a Function', ->\n    expect(eb.ebIf instanceof Function).toBe true\n","EventBus = require('../lib/eventbus')\n\ndescribe 'Will define', ->\n  beforeEach ->\n    global.eb = new EventBus\n  it 'simple createDomain', ->\n    eb.ebAdd 'test1.test2.test3'\n    expect(eb.test1.test2.test3).not.toBe undefined\n  it 'simple add', ->\n    foo = test: (value) ->\n      'works'\n    spyOn foo, 'test'\n    eb.ebAdd 'test', foo.test\n    eb.test()\n    expect(foo.test).toHaveBeenCalled()\n    # expect(eb.test()).toBe(['works']);\n    expect(eb.test instanceof Function).toBe true\n  it 'add with thisArg on call', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n\n    eb.ebAdd { thisArg: obj }, 'test1.test1', obj.call\n    eb.ebAdd 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n  it 'rm domain', ->\n    obj = func: ->\n      'hello'\n    # spyOn(obj,'func');\n    eb.ebAdd 'test.test.test', obj.func\n    expect(eb.test.test.test != undefined).toBe true\n    expect(eb.ebRemove('test.test')).not.toBe false\n    expect(eb.test.test.test == undefined).toBe true\n    # expect(obj.call).not.toHaveBeenCalled();\n  it 'require EventBus again', ->\n    obj = func: ->\n      'hello'\n    spyOn obj, 'func'\n    eb.ebAdd 'test.test1', obj.func\n    new EventBus\n    eb.test.test1()\n    expect(obj.func).toHaveBeenCalled()\n  it 'func within option', ->\n    obj =\n      attr: 'yes!'\n      call1: ->\n        'yes'\n      call2: ->\n        @attr\n    spyOn obj, 'call1'\n    spyOn obj, 'call2'\n    eb.ebAdd 'testContainer',\n      thisArg: obj\n      call1: obj.call1\n      call2: obj.call2\n    eb.testContainer.call1()\n    eb.testContainer.call2()\n    expect(obj.call1).toHaveBeenCalled()\n    expect(obj.call2).toHaveBeenCalled()\n  it 'try ebIf', ->\n    obj1 =\n      id: 1\n      call: ->\n        console.log 'Hello from obj1'\n    obj2 =\n      id: 2\n      call: ->\n        console.log 'Hello from obj2'\n    spyOn obj1, 'call'\n    spyOn obj2, 'call'\n    eb.ebAdd 'test.test', obj1.call, thisArg: obj1\n    eb.ebAdd 'test.test', obj2.call, thisArg: obj2\n    eb.test.ebIf(id: 1).test()\n    # will only log 'Hello from obj1', based on thisArg\n    expect(obj1.call).toHaveBeenCalled()\n    expect(obj2.call).not.toHaveBeenCalled()\n\ndescribe 'ThisArg Test', ->\n  beforeEach ->\n    global.eb = new EventBus\n  it 'with thisArg on define', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n    eb.ebAdd { thisArg: obj }, 'test1.test1', obj.call\n    eb.ebAdd 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n  it 'with thisArg on call', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n    eb.ebAdd 'test1.test1', obj.call\n    eb.ebAdd 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.ebAdd({ thisArg: obj }).test1()\n    expect(obj.attribute).toBe 'yes'\n","require './default_spec.coffee'\nrequire './define_spec.coffee'\n"]}