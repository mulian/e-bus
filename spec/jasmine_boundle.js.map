{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","lib/event-object.js","jasmine_boundle.js","lib/eventbus.js","spec/default_spec.coffee","spec/define_spec.coffee","spec/main_spec.coffee"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","EventObject","slice","this","_functions","prototype","ebRemove","domain","obj","eb","debug","console","log","_goToDomain","_removeAllSub","key","results","Function","push","sub","subRE","exec","ebIf","_ebIf","ebAdd","arg1","arg2","arg3","func","lastDomain","option","ref","sortArgs","wihtoutLast","_defineArg","_replaceToCamelCase","test","_createFunction","_createDomainIfNotExist","_setOption","options","opt","thisArg","onReady","_setFunctionToDomain","subDomain","args","len","ret","arguments","apply","_objIsEqual","fromObj","toObj","k","v","withoutLast","currentObj",2,"global","EventBus","extend","child","parent","ctor","constructor","hasProp","__super__","hasOwnProperty","superClass","_toGlobal","_isInstance","arg","Object","channel","replace","match","pos","charAt","toUpperCase","self","window","./event-object",3,"describe","beforeEach","it","expect","toBe","../lib/eventbus",4,"test1","test2","test3","not","foo","value","spyOn","toHaveBeenCalled","attribute","attr","call1","call2","testContainer","obj1","obj2","id",5,"./default_spec.coffee","./define_spec.coffee"],"mappings":"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","file":"jasmine_boundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function() {\n  var EventObject,\n    slice = [].slice;\n\n  module.exports = EventObject = (function() {\n    function EventObject() {\n      this._functions = {};\n    }\n\n    EventObject.prototype.ebRemove = function(domain) {\n      var obj;\n      if (eb.debug) {\n        console.log(\"ebRemove: \" + domain);\n      }\n      obj = this._goToDomain(domain);\n      if (obj === false) {\n        return false;\n      }\n      obj._removeAllSub();\n      return obj;\n    };\n\n    EventObject.prototype._removeAllSub = function() {\n      var key, obj, results;\n      results = [];\n      for (key in this) {\n        obj = this[key];\n        if (obj instanceof EventObject || obj instanceof Function) {\n          results.push(delete this[key]);\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n\n    EventObject.prototype._goToDomain = function(domain) {\n      var obj, sub, subRE;\n      subRE = /([\\w$]+)\\.?/g;\n      obj = this;\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (obj[sub] == null) {\n          return false;\n        }\n        obj = obj[sub];\n      }\n      return obj;\n    };\n\n    EventObject.prototype.ebIf = function(obj) {\n      this._ebIf = obj;\n      return this;\n    };\n\n    EventObject.prototype.ebAdd = function(arg1, arg2, arg3) {\n      var domain, func, lastDomain, obj, option, ref, sortArgs, wihtoutLast;\n      sortArgs = eb._defineArg(arg1, arg2, arg3);\n      if (eb.debug) {\n        console.log(\"ebAdd:\", sortArgs);\n      }\n      func = sortArgs.func, domain = sortArgs.domain, option = sortArgs.option;\n      if (domain != null) {\n        domain = eb._replaceToCamelCase(domain);\n      }\n      if (/^[\\w$]+$/.test(domain) && (func != null)) {\n        this._createFunction(domain, func, option);\n      } else if (domain != null) {\n        wihtoutLast = false;\n        if (func != null) {\n          wihtoutLast = true;\n        }\n        ref = this._createDomainIfNotExist(domain, wihtoutLast), obj = ref.obj, lastDomain = ref.lastDomain;\n        return obj.ebAdd(lastDomain, func, option);\n      } else if (option != null) {\n        this._setOption(option);\n      } else {\n        if (eb.debug) {\n          console.log(\"no route!\", sortArgs);\n        }\n      }\n      return this;\n    };\n\n    EventObject.prototype._setOption = function(options) {\n      var key, opt, results;\n      results = [];\n      for (key in options) {\n        opt = options[key];\n        if (key === 'thisArg') {\n          results.push(this.thisArg = opt);\n        } else if (key === 'onReady') {\n          results.push(this.onReady = opt);\n        } else if (opt instanceof Function) {\n          results.push(this._createFunction(key, opt, options));\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n\n    EventObject.prototype._setFunctionToDomain = function(subDomain) {\n      if (this[subDomain] == null) {\n        return this[subDomain] = function() {\n          var args, func, i, len, ref, ret;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          ret = [];\n          ref = this._functions[subDomain];\n          for (i = 0, len = ref.length; i < len; i++) {\n            func = ref[i];\n            ret.push(func.apply(this, args));\n          }\n          if (this._ebIf != null) {\n            delete this._ebIf;\n          }\n          return ret;\n        };\n      }\n    };\n\n    EventObject.prototype._createFunction = function(subDomain, func, option) {\n      var thisArg;\n      if (eb.debug) {\n        console.log(\"_createFunction subDomain:\" + subDomain + \" func:\", func);\n      }\n      thisArg = this.thisArg;\n      if ((option != null ? option.thisArg : void 0) != null) {\n        thisArg = option.thisArg;\n      }\n      if (this._functions[subDomain] == null) {\n        this._functions[subDomain] = [];\n      }\n      this._functions[subDomain].push(function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        if (this._ebIf == null) {\n          return func.apply(thisArg, args);\n        } else {\n          if (this._objIsEqual(this._ebIf, thisArg)) {\n            return func.apply(thisArg, args);\n          }\n        }\n      });\n      return this._setFunctionToDomain(subDomain);\n    };\n\n    EventObject.prototype._objIsEqual = function(fromObj, toObj) {\n      var k, v;\n      for (k in fromObj) {\n        v = fromObj[k];\n        if (!(v === toObj[k])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    EventObject.prototype._createDomainIfNotExist = function(domain, withoutLast) {\n      var currentObj, lastDomain, sub, subRE;\n      if (withoutLast == null) {\n        withoutLast = false;\n      }\n      if (eb.debug) {\n        console.log(\"_createDomainIfNotExist with domain:\" + domain + \" and withoutLast=\" + withoutLast);\n      }\n      subRE = /([\\w$]+)\\.?/g;\n      if (withoutLast) {\n        subRE = /([\\w$]+)\\./g;\n        lastDomain = /\\.([\\w$]+)$/.exec(domain)[1];\n      }\n      currentObj = this;\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (currentObj[sub] == null) {\n          currentObj[sub] = new EventObject();\n        }\n        currentObj = currentObj[sub];\n      }\n      return {\n        obj: currentObj,\n        lastDomain: withoutLast ? lastDomain : void 0\n      };\n    };\n\n    return EventObject;\n\n  })();\n\n}).call(this);\n",null,"(function() {\n  var EventBus, EventObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    slice = [].slice;\n\n  EventObject = require('./event-object');\n\n  module.exports = EventBus = (function(superClass) {\n    extend(EventBus, superClass);\n\n    function EventBus() {\n      EventBus.__super__.constructor.apply(this, arguments);\n      this._toGlobal();\n    }\n\n    EventBus.prototype._toGlobal = function() {\n      if (global.eb == null) {\n        return global.eb = this;\n      }\n    };\n\n    EventBus.prototype._isInstance = function(arg) {\n      if (arg == null) {\n        return 'undefined';\n      } else if (arg instanceof Function) {\n        return 'function';\n      } else if (arg instanceof Object) {\n        return 'object';\n      } else {\n        return 'string';\n      }\n    };\n\n    EventBus.prototype._defineArg = function() {\n      var arg, args, i, len, obj;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      obj = {};\n      for (i = 0, len = args.length; i < len; i++) {\n        arg = args[i];\n        switch (this._isInstance(arg)) {\n          case 'function':\n            obj.func = arg;\n            break;\n          case 'string':\n            obj.domain = arg;\n            break;\n          case 'object':\n            obj.option = arg;\n        }\n      }\n      return obj;\n    };\n\n    EventBus.prototype._replaceToCamelCase = function(channel) {\n      channel = channel.replace(/-\\w/g, function(match, pos) {\n        return match.charAt(1).toUpperCase();\n      });\n      channel = channel.replace(/:/g, '.');\n      return channel;\n    };\n\n    return EventBus;\n\n  })(EventObject);\n\n  new EventBus();\n\n}).call(this);\n","EventBus = require('../lib/eventbus')\n\ndescribe 'Default Tests', ->\n  beforeEach ->\n    global.eb = new EventBus\n    eb.debug = true\n  it 'is eb global and an EventBus?', ->\n    expect(eb instanceof EventBus).toBe true\n  it 'is eb.ebAdd a Function', ->\n    expect(eb.ebAdd instanceof Function).toBe true\n  it 'is eb.ebRemove a Function', ->\n    expect(eb.ebRemove instanceof Function).toBe true\n  it 'is eb.ebIf a Function', ->\n    expect(eb.ebIf instanceof Function).toBe true\n","EventBus = require('../lib/eventbus')\n\ndescribe 'Will define', ->\n  beforeEach ->\n    global.eb = new EventBus\n  it 'simple createDomain', ->\n    eb.ebAdd 'test1.test2.test3'\n    expect(eb.test1.test2.test3).not.toBe undefined\n  it 'simple add', ->\n    foo = test: (value) ->\n      'works'\n    spyOn foo, 'test'\n    eb.ebAdd 'test', foo.test\n    eb.test()\n    expect(foo.test).toHaveBeenCalled()\n    # expect(eb.test()).toBe(['works']);\n    expect(eb.test instanceof Function).toBe true\n  it 'add with thisArg on call', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n\n    eb.ebAdd { thisArg: obj }, 'test1.test1', obj.call\n    eb.ebAdd 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n  it 'rm domain', ->\n    obj = func: ->\n      'hello'\n    # spyOn(obj,'func');\n    eb.ebAdd 'test.test.test', obj.func\n    expect(eb.test.test.test != undefined).toBe true\n    expect(eb.ebRemove('test.test')).not.toBe false\n    expect(eb.test.test.test == undefined).toBe true\n    # expect(obj.call).not.toHaveBeenCalled();\n  it 'require EventBus again', ->\n    obj = func: ->\n      'hello'\n    spyOn obj, 'func'\n    eb.ebAdd 'test.test1', obj.func\n    new EventBus\n    eb.test.test1()\n    expect(obj.func).toHaveBeenCalled()\n  it 'func within option', ->\n    obj =\n      attr: 'yes!'\n      call1: ->\n        'yes'\n      call2: ->\n        @attr\n    spyOn obj, 'call1'\n    spyOn obj, 'call2'\n    eb.ebAdd 'testContainer',\n      thisArg: obj\n      call1: obj.call1\n      call2: obj.call2\n    eb.testContainer.call1()\n    eb.testContainer.call2()\n    expect(obj.call1).toHaveBeenCalled()\n    expect(obj.call2).toHaveBeenCalled()\n  it 'try ebIf', ->\n    obj1 =\n      id: 1\n      call: ->\n        console.log 'Hello from obj1'\n    obj2 =\n      id: 2\n      call: ->\n        console.log 'Hello from obj2'\n    spyOn obj1, 'call'\n    spyOn obj2, 'call'\n    eb.ebAdd 'test.test', obj1.call, thisArg: obj1\n    eb.ebAdd 'test.test', obj2.call, thisArg: obj2\n    eb.test.ebIf(id: 1).test()\n    # will only log 'Hello from obj1', based on thisArg\n    expect(obj1.call).toHaveBeenCalled()\n    expect(obj2.call).not.toHaveBeenCalled()\n\n  # it(\"Use other notation\", function() {\n  #   var func = function() {\n  #     return \"str\"\n  #   }\n  #   // var newObj = new obj()\n  #   var rm = eb('on')('test-case:test-test10',func);\n  #   expect(eb.TestCase.testTest10()).toBe('str');\n  # });\n","require './default_spec.coffee'\nrequire './define_spec.coffee'\n"],"sourceRoot":"/source/"}