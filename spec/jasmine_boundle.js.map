{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","lib/event-bus.js","lib/event-object-functions.js","lib/event-object.js","spec/default_spec.coffee","spec/define_spec.coffee","spec/instance_spec.coffee","spec/main_spec.coffee","spec/test-object.coffee"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9IA,IAAA;;AAAA,QAAA,GAAW,OAAA,CAAQ,kBAAR;;AACP,IAAA,QAAA,CAAA;;AACJ,QAAA,CAAS,eAAT,EAA0B,SAAA;EAIxB,EAAA,CAAG,+BAAH,EAAoC,SAAA;WAClC,MAAA,CAAO,EAAA,YAAc,QAArB,CAA8B,CAAC,IAA/B,CAAoC,IAApC;EADkC,CAApC;SAEA,EAAA,CAAG,qBAAH,EAA0B,SAAA;WACxB,MAAA,CAAO,EAAE,CAAC,EAAH,YAAiB,QAAxB,CAAiC,CAAC,IAAlC,CAAuC,IAAvC;EADwB,CAA1B;AANwB,CAA1B;;;;;ACFA,IAAA;;AAAA,QAAA,GAAW,OAAA,CAAQ,kBAAR;;AAEX,QAAA,CAAS,aAAT,EAAwB,SAAA;EACtB,UAAA,CAA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","file":"jasmine_boundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function() {\n  var EventBus, EventObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    slice = [].slice;\n\n  EventObject = require('./event-object');\n\n  module.exports = EventBus = (function(superClass) {\n    extend(EventBus, superClass);\n\n    function EventBus(toGlobal) {\n      if (toGlobal == null) {\n        toGlobal = true;\n      }\n      EventBus.__super__.constructor.apply(this, arguments);\n      if (toGlobal) {\n        this._toGlobal();\n      }\n    }\n\n    EventBus.prototype._toGlobal = function() {\n      if (global.eb == null) {\n        return global.eb = this;\n      }\n    };\n\n    EventBus.prototype._isInstance = function(arg) {\n      if (arg == null) {\n        return 'undefined';\n      } else if (arg instanceof Function) {\n        return 'function';\n      } else if (arg instanceof Object) {\n        return 'object';\n      } else {\n        return 'string';\n      }\n    };\n\n    EventBus.prototype._defineArg = function() {\n      var arg, args, i, len, obj;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      obj = {};\n      for (i = 0, len = args.length; i < len; i++) {\n        arg = args[i];\n        switch (this._isInstance(arg)) {\n          case 'function':\n            obj.func = arg;\n            break;\n          case 'string':\n            obj.domain = arg;\n            break;\n          case 'object':\n            obj.option = arg;\n        }\n      }\n      return obj;\n    };\n\n    EventBus.prototype._replaceToCamelCase = function(channel) {\n      channel = channel.replace(/-\\w/g, function(match, pos) {\n        return match.charAt(1).toUpperCase();\n      });\n      channel = channel.replace(/:/g, '.');\n      return channel;\n    };\n\n    return EventBus;\n\n  })(EventObject);\n\n  if (typeof window !== \"undefined\" && window !== null) {\n    new EventBus();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=event-bus.js.map\n","(function() {\n  var slice = [].slice;\n\n  module.exports = {\n    remove: {\n      ebRemove: function(domain) {\n        var obj;\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"ebRemove: \" + domain);\n        }\n        if (domain instanceof Boolean) {\n          obj = this.eo;\n        } else {\n          obj = this.goToDomain(domain);\n        }\n        if (obj === false) {\n          return false;\n        }\n        obj.___.removeAllSub();\n        return obj;\n      },\n      removeAllSub: function() {\n        var key, obj, ref, results;\n        ref = this.eo;\n        results = [];\n        for (key in ref) {\n          obj = ref[key];\n          if (obj.eb instanceof Function || obj instanceof Function) {\n            results.push(delete this.eo[key]);\n          } else {\n            results.push(void 0);\n          }\n        }\n        return results;\n      }\n    },\n    instance: {\n      createInstance: function(instance) {\n        var fName, i, j, l, len, len1, obj, ref, results;\n        console.log(\"createInstance with \", instance);\n        if (instance instanceof Array) {\n          for (j = 0, len = instance.length; j < len; j++) {\n            i = instance[j];\n            this.createInstance(i);\n          }\n        }\n        if (instance.domain != null) {\n          obj = this.createDomainIfNotExist(instance.domain);\n          delete instance.domain;\n          return obj.obj.createInstance(instance);\n        }\n        ref = instance.watch;\n        results = [];\n        for (l = 0, len1 = ref.length; l < len1; l++) {\n          fName = ref[l];\n          results.push(this.eo[fName] = this.tmpFunction(fName, instance));\n        }\n        return results;\n      },\n      tmpFunction: function(fName, instance) {\n        console.log(\"tmpFunction with \", fName, instance);\n        return function() {\n          var args, ins, j, len, ref;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          this.___.removeAllSub();\n          ins = instance.create();\n          console.info(\"watch: \", instance.watch);\n          ref = instance.watch;\n          for (j = 0, len = ref.length; j < len; j++) {\n            fName = ref[j];\n            console.info(\"function \" + fName);\n            this.___.createFunction(fName, ins[fName], {\n              thisArg: ins\n            });\n          }\n          return this[fName].apply(null, args);\n        };\n      }\n    },\n    addFunctions: {\n      setFunctionToDomain: function(subDomain) {\n        if (this.eo[subDomain] == null) {\n          return this.eo[subDomain] = function() {\n            var args, func, j, len, ref, ret;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            ret = [];\n            ref = this.___.functions[subDomain];\n            for (j = 0, len = ref.length; j < len; j++) {\n              func = ref[j];\n              ret.push(func.apply(this, args));\n            }\n            if (this.___._ebIf != null) {\n              delete this.___._ebIf;\n            }\n            return ret;\n          };\n        }\n      },\n      createFunction: function(subDomain, func, option) {\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"createFunction subDomain:\" + subDomain + \" func:\", func);\n        }\n        if (this.functions[subDomain] == null) {\n          this.functions[subDomain] = [];\n        }\n        this.functions[subDomain].push(function() {\n          var args, thisArg;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          thisArg = this.thisArg;\n          if ((option != null ? option.thisArg : void 0) != null) {\n            thisArg = option.thisArg;\n          }\n          if (this.___._ebIf == null) {\n            return func.apply(thisArg, args);\n          } else {\n            if (this.___.objIsEqual(this.___._ebIf, thisArg)) {\n              return func.apply(thisArg, args);\n            }\n          }\n        });\n        return this.setFunctionToDomain(subDomain);\n      },\n      objIsEqual: function(fromObj, toObj) {\n        var k, v;\n        if ((fromObj == null) || (toObj == null)) {\n          return false;\n        }\n        for (k in fromObj) {\n          v = fromObj[k];\n          if (!(v === toObj[k])) {\n            return false;\n          }\n        }\n        return true;\n      }\n    },\n    option: {\n      setOption: function(options) {\n        var key, opt, results;\n        results = [];\n        for (key in options) {\n          opt = options[key];\n          if (key === 'thisArg' && opt instanceof Object) {\n            results.push(this.eo.thisArg = opt);\n          } else if (key === 'onReady' && opt instanceof Boolean) {\n            results.push(this.onReady = opt);\n          } else if (key === 'remove' && (typeof opt === 'string' || opt instanceof String)) {\n            results.push(this.ebRemove(opt));\n          } else if (key === 'if' && opt instanceof Object) {\n            results.push(this.ebIf(opt));\n          } else if (opt instanceof Function) {\n            results.push(this.createFunction(key, opt, options));\n          } else if (key === 'instance' && (opt instanceof Object || opt instanceof Array)) {\n            results.push(this.createInstance(opt));\n          } else {\n            if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n              results.push(console.log(\"what do to with option[\" + key + \"]=\", opt));\n            } else {\n              results.push(void 0);\n            }\n          }\n        }\n        return results;\n      }\n    }\n  };\n\n}).call(this);\n\n//# sourceMappingURL=event-object-functions.js.map\n","(function() {\n  var EventObject, EventObjectHiddenFunctions, Mixin, addFunctions, instance, option, ref, remove,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./event-object-functions'), remove = ref.remove, instance = ref.instance, addFunctions = ref.addFunctions, option = ref.option;\n\n  Mixin = (function() {\n    function Mixin() {}\n\n    Mixin.mixin = function(array) {\n      var i, key, len, obj, ref1, results, value;\n      results = [];\n      for (i = 0, len = array.length; i < len; i++) {\n        obj = array[i];\n        for (key in obj) {\n          value = obj[key];\n          this.prototype[key] = value;\n        }\n        if ((ref1 = obj.included) != null) {\n          ref1.apply(this);\n        }\n        results.push(this);\n      }\n      return results;\n    };\n\n    return Mixin;\n\n  })();\n\n  EventObjectHiddenFunctions = (function(superClass) {\n    extend(EventObjectHiddenFunctions, superClass);\n\n    EventObjectHiddenFunctions.mixin([remove, instance, addFunctions, option]);\n\n    function EventObjectHiddenFunctions(eo) {\n      this.eo = eo;\n      this.functions = {};\n    }\n\n    EventObjectHiddenFunctions.prototype.ebIf = function(obj) {\n      this._ebIf = obj;\n      return this.eo;\n    };\n\n    EventObjectHiddenFunctions.prototype.goToDomain = function(domain) {\n      var obj, sub, subRE;\n      subRE = /([\\w$]+)\\.?/g;\n      obj = this.eo;\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (obj[sub] == null) {\n          return false;\n        }\n        obj = obj[sub];\n      }\n      return obj;\n    };\n\n    EventObjectHiddenFunctions.prototype.createDomainIfNotExist = function(domain, withoutLast) {\n      var currentObj, lastDomain, sub, subRE;\n      if (withoutLast == null) {\n        withoutLast = false;\n      }\n      if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n        console.log(\"createDomainIfNotExist with domain:\" + domain + \" and withoutLast=\" + withoutLast);\n      }\n      currentObj = this.eo;\n      subRE = /([\\w$]+)\\.?/g;\n      if (withoutLast) {\n        subRE = /([\\w$]+)\\./g;\n        lastDomain = /\\.([\\w$]+)$/.exec(domain)[1];\n      }\n      while (sub = subRE.exec(domain)) {\n        sub = sub[1];\n        if (currentObj[sub] == null) {\n          currentObj[sub] = new EventObject();\n        }\n        currentObj = currentObj[sub];\n      }\n      return {\n        obj: currentObj,\n        lastDomain: withoutLast ? lastDomain : void 0\n      };\n    };\n\n    return EventObjectHiddenFunctions;\n\n  })(Mixin);\n\n  module.exports = EventObject = (function() {\n    function EventObject() {\n      this.___ = new EventObjectHiddenFunctions(this);\n    }\n\n    EventObject.prototype.eb = function(arg1, arg2, arg3) {\n      var domain, func, lastDomain, obj, ref1, sortArgs, wihtoutLast;\n      sortArgs = eb._defineArg(arg1, arg2, arg3);\n      if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n        console.log(\"eb:\", sortArgs);\n      }\n      func = sortArgs.func, domain = sortArgs.domain, option = sortArgs.option;\n      if (domain != null) {\n        domain = eb._replaceToCamelCase(domain);\n      }\n      if (/^[\\w$]+$/.test(domain) && (func != null)) {\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"eb#1\");\n        }\n        this.___.createFunction(domain, func, option);\n      } else if (domain != null) {\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"eb#2\");\n        }\n        wihtoutLast = false;\n        if (func != null) {\n          wihtoutLast = true;\n        }\n        ref1 = this.___.createDomainIfNotExist(domain, wihtoutLast), obj = ref1.obj, lastDomain = ref1.lastDomain;\n        return obj.eb(lastDomain, func, option);\n      } else {\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"no route!\", sortArgs);\n        }\n      }\n      if (option != null) {\n        if (typeof eb !== \"undefined\" && eb !== null ? eb.debug : void 0) {\n          console.log(\"eb#3\");\n        }\n        this.___.setOption(option);\n      }\n      return this;\n    };\n\n    return EventObject;\n\n  })();\n\n}).call(this);\n\n//# sourceMappingURL=event-object.js.map\n","EventBus = require('../lib/event-bus')\nnew EventBus()\ndescribe 'Default Tests', ->\n  # beforeEach ->\n    # global.eb = new EventBus\n    # eb.debug = true\n  it 'is eb global and an EventBus?', ->\n    expect(eb instanceof EventBus).toBe true\n  it 'is eb.eb a Function', ->\n    expect(eb.eb instanceof Function).toBe true\n","EventBus = require('../lib/event-bus')\n\ndescribe 'Will define', ->\n  beforeEach ->\n    global.eb = new EventBus()\n  it 'simple createDomain', ->\n    eb.eb 'test1.test2.test3'\n    expect(eb.test1.test2.test3).not.toBe undefined\n  it 'simple add', ->\n    foo = test: (value) ->\n      'works'\n    spyOn foo, 'test'\n    eb.eb 'test', foo.test\n    eb.test()\n    expect(foo.test).toHaveBeenCalled()\n    # expect(eb.test()).toBe(['works']);\n    expect(eb.test instanceof Function).toBe true\n  it 'add with thisArg on call', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n\n    eb.eb { thisArg: obj }, 'test1.test1', obj.call\n    eb.eb 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n  it 'add many domains only one execute', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n\n    eb.eb { thisArg: obj }, 'test1.test1', obj.call\n    eb.eb 'test2.test2', obj.call\n    eb.eb 'test3.test', obj.call\n    eb.eb 'test4.test', obj.call\n    eb.eb 'test5.test', obj.call\n    eb.eb 'test6.test', obj.call\n    eb.eb 'test7.test', obj.call\n    eb.eb 'test', {} =\n      thisArg: obj\n      f1: obj.call\n      f2: obj.call\n      f3: obj.call\n      f4: obj.call\n      f5: obj.call\n\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n\n    expect(eb.test7.test().length).toBe 1\n    expect(eb.test.f3().length).toBe 1\n\n  it 'rm domain', ->\n    obj = func: ->\n      'hello'\n    # spyOn(obj,'func');\n    eb.eb 'test.test.test', obj.func\n    expect(eb.test.test.test != undefined).toBe true\n    expect(eb.eb({remove:'test.test'})).not.toBe false\n    expect(eb.test.test.test == undefined).toBe true\n    # expect(obj.call).not.toHaveBeenCalled();\n  it 'require EventBus again', ->\n    obj = func: ->\n      'hello'\n    spyOn obj, 'func'\n    eb.eb 'test.test1', obj.func\n    new EventBus\n    eb.test.test1()\n    expect(obj.func).toHaveBeenCalled()\n  it 'func within option', ->\n    obj =\n      attr: 'yes!'\n      call1: ->\n        'yes'\n      call2: ->\n        @attr\n    spyOn obj, 'call1'\n    spyOn obj, 'call2'\n    eb.eb 'testContainer',\n      thisArg: obj\n      call1: obj.call1\n      call2: obj.call2\n    eb.testContainer.call1()\n    eb.testContainer.call2()\n    expect(obj.call1).toHaveBeenCalled()\n    expect(obj.call2).toHaveBeenCalled()\n  it 'try eb -> If', ->\n    obj1 =\n      id: 1\n      call: ->\n        console.log 'Hello from obj1'\n    obj2 =\n      id: 2\n      call: ->\n        console.log 'Hello from obj2'\n    spyOn obj1, 'call'\n    spyOn obj2, 'call'\n    eb.eb 'test.test', obj1.call, thisArg: obj1\n    eb.eb 'test.test', obj2.call, thisArg: obj2\n    eb.test.eb({if:{id: 1}}).test()\n    # will only log 'Hello from obj1', based on thisArg\n    expect(obj1.call).toHaveBeenCalled()\n    expect(obj2.call).not.toHaveBeenCalled()\n\ndescribe 'ThisArg Test', ->\n  beforeEach ->\n    global.eb = new EventBus\n  it 'with thisArg on define', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n    eb.eb { thisArg: obj }, 'test1.test1', obj.call\n    eb.eb 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.test1()\n    expect(obj.attribute).toBe 'yes'\n  it 'with thisArg on call', ->\n    obj =\n      attribute: 'test'\n      call: ->\n        @attribute = 'yes'\n    eb.eb 'test1.test1', obj.call\n    eb.eb 'test2.test2', obj.call\n    eb.test2.test2()\n    expect(obj.attribute).toBe 'test'\n    eb.test1.eb({ thisArg: obj }).test1()\n    expect(obj.attribute).toBe 'yes'\n","EventBus = require('../lib/event-bus')\n\ndescribe 'Instance Test', ->\n  beforeEach ->\n    global.eb = new EventBus\n    \n  it 'standart instance', ->\n    TestObject = require('./test-object.coffee')\n    instance = new TestObject('hello')\n    eb.eb 'test', {} =\n      thisArg: instance\n      call: instance.call\n      setInfo: instance.setInfo\n\n    expect(eb.test.call instanceof Function).toBe(true)\n    expect(eb.test.call('world')).toContain 'hello world'\n\n  it 'instance on call', ->\n    eb.eb {} =\n      instance: {} =\n        domain: 'test',\n        watch: ['call','setInfo'],\n        create: ->\n          TestObject = require('./test-object.coffee')\n          return new TestObject('hello')\n\n    expect(eb.test.call instanceof Function).toBe(true)\n    expect(eb.test.call('world')).toContain 'hello world'\n","require './default_spec.coffee'\nrequire './define_spec.coffee'\nrequire './instance_spec.coffee'\n","module.exports =\nclass TestObject\n  constructor: (@info) ->\n    # console.info \"TestObject init\"\n  call: (arg) ->\n    # console.info \"TestObject call\"\n    return \"#{@info} #{arg}\"\n  setInfo: (@info) ->\n"]}